<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  
</body>
<script>
/*
  小娜的功能
    1.循环弹框询问输入
    2.输入q退出循环
    3.输入1或者是总和，就可以输入一串以逗号隔开的数字，然后求和
    4.输入2或者是时间，可以得到固定格式的当前时间
    5.输入3或者是笑话，可以随机的获得一个笑话
    6.如果输入的不满足条件，会弹出提示
*/
// 第一个函数的封装 - 判断小于10补全0的封装
function patchZero(number){
  if(number < 10) {
    number = '0' + number;
  }
  return number;
}


// 循环的弹窗输入 - while循环
while(true){
  // 1 弹出输入框
  var msg = prompt('输入1求总和\n输入2求当前的时间\n输入3获得一个随机笑话');
  // 2 判断输入的是不是q
  if(msg == 'q'){
    alert('退出');
    break;
  }
  // 判断123
  switch(msg){
    case '1':
    case '总和':
      var numbers = prompt('请输入用逗号分隔的数字');
      // 切割
      var arr = numbers.split(',');
      var sum = 0;
      for(var i =0; i< arr.length;i++){
        sum += parseFloat(arr[i]);
      }
      alert(sum);
      break;
    case '2':
    case '时间':
      var date = new Date();
      var y = date.getFullYear();
      var M = date.getMonth() + 1;
      var d = date.getDate();
      var h = date.getHours();
      var m = date.getMinutes();
      var s = date.getSeconds();
      // 判断是否小于10
      M = patchZero(M);
      d = patchZero(d);
      h = patchZero(h);
      m = patchZero(m);
      s = patchZero(s);
      var time = y + '-' + M + '-' + d + ' ' + h + ':' + m + ':' + s;
      alert(time);
      break;
    case '3':
    case '笑话':
      // 笑话数组
      var jokes = [
        '笑话1',
        '笑话2',
        '笑话3',
        '笑话4',
        '笑话5',
        '笑话6',
      ];
      // 随机索引
      var index= Math.floor(Math.random() * jokes.length);
      alert(jokes[index]);
      break;
    default:
      // 如果输入的没有上述的判断，就提示我不会
      alert('我听不明白');
      break;
  }
}

</script>
</html>